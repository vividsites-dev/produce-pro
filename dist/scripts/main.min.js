"use strict";function setDisplayNone(e){document.getElementById(e).style.display="none"}function setDisplayInline(e){document.getElementById(e).style.display="inline"}function t_addCookie(e){setDisplayNone(e+"_add"),setDisplayInline(e+"_remove")}function t_removeCookie(e){setDisplayNone(e+"_remove"),setDisplayInline(e+"_add")}function addCookie(e){setDisplayNone("z"+e+"_add"),setDisplayInline("z"+e+"_remove");var t=simpleGetCookie("myfolder");null!=t?-1==t.indexOf(e)&&simpleSetCookie("myfolder",0<t.length?t+":"+e:e,30,"/"):simpleSetCookie("myfolder",e,30,"/")}function removeCookie(e){setDisplayNone("z"+e+"_remove"),setDisplayInline("z"+e+"_add");var t,n,o=simpleGetCookie("myfolder");null!=o?-1!=(n=o.indexOf(e))&&(-1==(e=o.indexOf(":",n))&&(e=o.length),0<n?(t=o.substring(0,n-1),t+=o.substring(e)):t=o.substring(e+1),simpleSetCookie("myfolder",t,30,"/")):simpleSetCookie("myfolder",t,30,"/")}function simpleSetCookie(e,t,n,o,a,i){var s;null==n?s=null:(s=new Date).setDate(s.getDate()+n),document.cookie=e+"="+escape(t)+(s?"; expires="+s.toGMTString():"")+(o?"; path="+o:"")+(a?"; domain="+a:"")+(i?"; secure":"")}function simpleGetCookie(e){var t=document.cookie,n=e+"=",o=t.indexOf("; "+n);if(-1==o){if(0!=(o=t.indexOf(n)))return null}else o+=2;e=document.cookie.indexOf(";",o);return-1==e&&(e=t.length),unescape(t.substring(o+n.length,e))}function simpleDeleteCookie(e,t,n){simpleGetCookie(e)&&(document.cookie=e+"="+(t?"; path="+t:"")+(n?"; domain="+n:"")+"; expires=Thu, 01-Jan-70 00:00:01 GMT")}function FixCookieDate(e){var t=new Date(0).getTime();e.setTime(e.getTime()-t)}function getTransitionEndEventName(){var e,t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},n=document.body.style;for(e in t)if(null!=n[e])return t[e]}var reloadPage,banner,shareButton,formModal,commendationsModal,commendationsSlider,promotionsModal,promotionsModalContent,loginModal,loginForm,welcomeModal,registerForm,welcome,welcomeBanner,navToggle,scrollDown,myLottieFile,transitionEndEventName=getTransitionEndEventName();function scrollRotate(){var e=document.getElementById("system"),t=window.pageYOffset/20;e.style.transform="rotate(-"+t+"deg)",navToggle.classList.remove("open"),scrollDown.classList.add("invisible"),50<window.pageYOffset?welcome.style.opacity=(150-window.pageYOffset)/100:welcome.style.opacity="",150<window.pageYOffset?welcome.style.display="none":welcome.style.display="block"}function checkForClass(e,t){return!!e.classList.contains(t)}!function(o){o(document).keydown(function(e){27==(e.keyCode||e.which)&&o(".active").removeClass("active")}),jQuery(document).on("gform_post_render",function(e,t,n){o("input, textarea").focus(function(){o(this).parents(".gfield").addClass("gfield--active")}),o("input, textarea").blur(function(){""===o(this).val()?o(this).parents(".gfield").removeClass("gfield--active"):o(this).parents(".gfield").removeClass("gfield_error")}),o("#submit_button_replacement").click(function(e){e.preventDefault(),o(this).parents("form").submit()})})}(jQuery),document.body.classList.contains("explore-view")&&(window.onscroll=function(){scrollRotate()}),document.addEventListener("DOMContentLoaded",function(e){reloadPage=document.getElementById("reload_page"),welcomeBanner=document.getElementById("welcome_banner"),welcome=document.getElementById("welcome"),scrollDown=document.getElementById("scroll_down"),navToggle=document.getElementById("nav_toggle"),reloadPage&&reloadPage.addEventListener("click",function(e){e.preventDefault(),welcome.parentNode.classList.add("hidden"),document.body.scrollTop=document.documentElement.scrollTop=0,window.location.href=window.location.origin+"?initialized=true"}),welcomeBanner&&welcomeBanner.addEventListener(transitionEndEventName,function(e){"transform"===e.propertyName&&e.target.classList.add("banner--loaded")});for(var n=document.querySelectorAll(".animation-radius__inner"),o=0;o<n.length;o++)!function(){var t=n[o];t.addEventListener(transitionEndEventName,function(e){"transform"===e.propertyName&&checkForClass(t,"animation-radius__inner--removed")&&(t.classList.add("animationHidden"),t.classList.remove("animation-radius__inner--removed"),setTimeout(function(){t.classList.remove("animationHidden")},3e3))})}();for(var a=document.querySelectorAll(".animation"),o=0;o<a.length;o++)!function(){var t=a[o];t.addEventListener(transitionEndEventName,function(e){"transform"===e.propertyName&&checkForClass(t,"animation--away")&&(t.classList.add("animationHidden"),t.classList.remove("animation--away"),setTimeout(function(){t.classList.remove("animationHidden")},3e3))})}()}),window.addEventListener("load",function(e){document.body.classList.add("initialized");for(var t=document.querySelectorAll("lottie-player"),n=0;n<t.length;n++){var o=t[n].getAttribute("data-lottie");t[n].load(o)}}),function(s){s(function(){function t(n){var o=s(n).attr("data-id"),a=s(n).hasClass("commendation__heart--liked")?"remove":"add",i=simpleGetCookie("mccarthy_post_likes");s.post("/wp-json/mccarthy/v1/toggle-commendation-like",{id:o,action:a},function(e,t){"success"===t&&(s(n).toggleClass("commendation__heart--liked"),i=i?JSON.parse(i):[],"add"==a?(s(n).attr("data-likes",parseInt(s(n).attr("data-likes"))+1),i.includes(o)||i.push(o)):(s(n).attr("data-likes",parseInt(s(n).attr("data-likes"))-1),i.includes(o)&&(t=i.findIndex(function(e){return e===o}),i.splice(t,1))),simpleSetCookie("mccarthy_post_likes",JSON.stringify(i),30,"/"))})}s(".language-picker:not(.language--active)").click(function(e){e.preventDefault();e="esp"===s(this).attr("data-language")?"es":"en";document.cookie="wordpress_mccarthy_language="+e+";path=/;max-age=2592000;",location.reload()}),s("#language_picker_toggle").click(function(e){e.preventDefault(),this.classList.contains("open")?(this.classList.remove("open"),this.parentNode.setAttribute("data-active","")):(document.getElementById("nav_toggle").classList.remove("open"),this.classList.add("open"),this.parentNode.setAttribute("data-active","languages"))}),s(document).on("ready",function(){shareButton=s("#share_button"),formModal=s("#form_modal"),commendationsModal=s("#commendations_modal"),commendationsSlider=s("#commendations_slider"),promotionsModal=s("#promotions_modal"),promotionsModalContent=promotionsModal.find(".modal__text"),welcomeModal=s("#welcome_modal"),960<=s(window).width()&&s("#nav_toggle").addClass("open").parent(".header__wrapper").attr("data-active","menu"),s("body").hasClass("new-user")&&setTimeout(function(){s("html").addClass("modal-open"),welcomeModal.removeClass("hidden")},5e3);var e=!!document.location.search&&new URLSearchParams(document.location.search);e&&e.get("p")&&e.get("liked")&&(e=s("#commendation_like_"+e.get("p")),s(e).hasClass("commendation__heart--liked")||t(e)),commendationsSlider.on("init",function(){commendationsModal.hasClass("openOnLoad")&&(s("html").addClass("modal-open"),commendationsModal.removeClass("hidden"))}),s(commendationsSlider).slick({adaptiveHeight:!0}),"#share"===window.location.hash&&(s("html").addClass("modal-open"),formModal.removeClass("hidden")),s("#nav_toggle").click(function(e){e.preventDefault(),this.classList.contains("open")?(this.classList.remove("open"),this.parentNode.setAttribute("data-active","")):(document.getElementById("language_picker_toggle").classList.remove("open"),this.classList.add("open"),this.parentNode.setAttribute("data-active","menu"))}),s(shareButton).on("click",function(e){e.preventDefault(),s(this).hasClass("used")?(window.location.hash="share",window.location.href=window.location.origin+"?initialized=true#share"):(s("html").addClass("modal-open"),formModal.removeClass("hidden"))}),s(".cloud").on("click",function(e){e.preventDefault();e=s(this).attr("data-index");s(commendationsSlider).slick("slickSetOption","speed",0).slick("slickGoTo",e).slick("slickSetOption","speed",300),s("html").addClass("modal-open"),commendationsModal.removeClass("hidden")}),s(".animation").on("click",function(e){e.preventDefault(),s(this).hasClass("animate-on-click")&&s(this).closest(".animation-radius__inner").addClass("animation-radius__inner--removed"),s(this).hasClass("modal-on-click")&&(e=s(this).attr("data-modal"),promotionsModalContent.html(JSON.parse(e)),promotionsModal.removeClass("hidden"))}),s(".modal__close").on("click",function(e){e.preventDefault(),""!==window.location.hash&&(window.location.hash="");e=s(this).parents(".modal");e.addClass("hidden"),s("html").removeClass("modal-open"),e[0]===welcomeModal[0]&&(document.cookie="mccarthy_return_user=true;path=/;max-age=2592000;")}),s(document).on("click",".commendation__heart",function(e){e.preventDefault(),t(this)}),s('input[name="instruction_language"]').change(function(){var e=document.getElementById("instructions_english"),t=document.getElementById("instructions_spanish");e.parentNode;"spanish"===this.value?(s(e).slideUp(),s(t).slideDown()):(s(t).slideUp(),s(e).slideDown())})}),s(document).on("gform_confirmation_loaded",function(){shareButton.addClass("used");var e=s("#mule").attr("data-share_post_title");e&&(s("title").text(e),s('meta[property="og:title"]').attr("content",e))})})}(jQuery),/(trident|msie)/i.test(navigator.userAgent)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var e,t=location.hash.substring(1);/^[A-z0-9_-]+$/.test(t)&&(e=document.getElementById(t))&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus())},!1),function(e){e(function(){e(document).ready(function(){e(".slickify").slick()})})}(jQuery);